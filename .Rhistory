return_vector = py$pred_comb
return(return_vector)
}
bio_class = function(text_vector,
type = "full"){
if(is.vector(text_vector)){
tmp_df = data.frame(text = text_vector)
dat = reticulate::r_to_py(tmp_df)
list2env(list(data = dat), envir = .GlobalEnv)
directory = paste(find.package("classecol"),"/models/classecol-models-master/", sep = "")
model_directory = reticulate::r_to_py(directory)
assign("model_directory", model_directory, envir = .GlobalEnv)
save_dic = getwd()
if(type == "full"){
reticulate::py_run_file(paste(directory,"bio_all_rapid_pred.py", sep = ""))
} else if (type == "person"){
reticulate::py_run_file(paste(directory,"bio_per_org_rapid_pred.py", sep = ""))
} else if (type == "expert"){
reticulate::py_run_file(paste(directory,"bio_per_exp_rapid_pred.py", sep = ""))
} else {
stop("Please specify a valid type")
}
setwd(save_dic)
return_vector = py$pred_comb
return(return_vector)
} else {
stop("'text_vector' must be a vector")
}
}
df = data.frame(
text = c(
"I love walking in nature - so serene",
"Why are the government not stopping the destruction of the rainforest?!",
"Tiger wins the PGA tour again!"),
stringsAsFactors = F)
df$text = classecol::clean(df$text, level = "full")
sm = as.matrix(cbind(
valence(df$text),
lang_eng(df$text),
senti_matrix(df$text)))
nat_class(
text_vector = df$text,
senti = sm,
type = "trimmed")
df = data.frame(
name = c(
"Jane Doe ",
"Thomas Frederick Johnson",
"Fictional University"),
description = c(
"Business leader, banker, parent, and cyclist",
"Ecology and conservation researcher",
"Campus life and study at the Fictional University. Follow for news and updates"),
stringsAsFactors = F)
bio_class(
text_vector = paste(df$name, df$description),
type = "full")
df = data.frame(
name = c(
"Jane Doe ",
"Thomas Frederick Johnson",
"Fictional University"),
description = c(
"Business leader, banker, parent, and cyclist",
"Ecology and conservation researcher",
"Campus life and study at the Fictional University. Follow for news and updates"),
stringsAsFactors = F)
bio_class(
text_vector = paste(df$name, df$description),
type = "full")
library(devtools)
install.packages("reticulate")
install.packages("reticulate")
install.packages("reticulate")
install.packages("reticulate")
library(reticulate)
library(devtools)
install_github("GitTFJ/addeR")
install_github("GitTFJ/classecol")
library(addeR)
library(classecol)
load_classecol(download_models = F, download_modules = F, link_py = T)
load_classecol(download_models = F, download_modules = F, link_py = T)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
devtools::document()
devtools::document()
library(devtools)
install_github("GitTFJ/classecol")
load_classecol(download_models = T, download_modules = T, link_py = T)
library(classecol)
load_classecol(download_models = T, download_modules = T, link_py = T)
load_classecol(download_models = F, download_modules = F, link_py = T)
library(devtools)
install_github("GitTFJ/classecol")
devtools::document()
library(classecol)
library(addeR)
library(reticulate)
library(classecol)
library(addeR)
library(reticulate)
load_classecol(download_models = F, download_modules = F, link_py = T)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
?hun_class
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(reticulate)
library(addeR)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
load_classecol(download_models = T, download_modules = T, link_py = T)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
repl_python()
r.model_directory
r.dat
r.data
exit
text_vector = classecol::clean(df$text, level = "simple")
type = "full"
tmp_df = data.frame(text = text_vector)
dat = reticulate::r_to_py(tmp_df)
list2env(list(data = dat), envir = .GlobalEnv)
repl_python()
r.dat
dat
r.data
r.tmp_df
exit()
exit
directory = paste(find.package("classecol"),"/models/classecol-models-master/", sep = "")
model_directory = reticulate::r_to_py(directory)
model_directory = reticulate::r_to_py(directory)
repl_python()
r
r.dat
exit
library(reticulate)
library(reticulate)
dat = reticulate::r_to_py(tmp_df)
repl_python()
r.dat
library(reticulate)
exit
library(reticulate)
text <- c("Because I could not stop for Death -",
"He kindly stopped for me -",
"The Carriage held but just Ourselves -",
"and Immortality")
df_py <- r_to_py(df)
repl_python()
>>> r.df_py
r.df_py
library(reticulate)
df = data.frame(text = c("cat", "dog"))
df1 = r_to_py(df)
repl_python()
df
r.df
library(devtools)
library(classecol)
library(addeR)
library(reticulate)
load_classecol(download_models = F, download_modules = F, link_py = T)
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
df = data.frame(text = c("cat", "dog"))
df1 = r_to_py(df)
repl_python()
r.df
r.df1
exit
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(reticulate)
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I love walking in nature - so serene",
"Why are the government not stopping the destruction of the rainforest?!",
"Tiger wins the PGA tour again!"),
stringsAsFactors = F)
df$text = classecol::clean(df$text, level = "full")
sm = as.matrix(cbind(
valence(df$text),
lang_eng(df$text),
senti_matrix(df$text)))
nat_class(
text_vector = df$text,
senti = sm,
type = "trimmed")
df = data.frame(
name = c(
"Jane Doe ",
"Thomas Frederick Johnson",
"Fictional University"),
description = c(
"Business leader, banker, parent, and cyclist",
"Ecology and conservation researcher",
"Campus life and study at the Fictional University. Follow for news and updates"),
stringsAsFactors = F)
bio_class(
text_vector = paste(df$name, df$description),
type = "full")
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(reticulate)
df = data.frame(
text = c(
"I love walking in nature - so serene",
"Why are the government not stopping the destruction of the rainforest?!",
"Tiger wins the PGA tour again!"),
stringsAsFactors = F)
df$text = classecol::clean(df$text, level = "full")
sm = as.matrix(cbind(
valence(df$text),
lang_eng(df$text),
senti_matrix(df$text)))
nat_class(
text_vector = df$text,
senti = sm,
type = "trimmed")
df = data.frame(
name = c(
"Jane Doe ",
"Thomas Frederick Johnson",
"Fictional University"),
description = c(
"Business leader, banker, parent, and cyclist",
"Ecology and conservation researcher",
"Campus life and study at the Fictional University. Follow for news and updates"),
stringsAsFactors = F)
bio_class(
text_vector = paste(df$name, df$description),
type = "full")
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
library(reticulate)
library(devtools)
install_github("GitTFJ/classecol")
library(classecol)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
text = "BTW tomorrow will be the best #TrophyHunting :)"
text
clean(text, level = "simple")
devtools::document()
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
hun_class = function(text_vector, type = "full"){
if(is.vector(text_vector)){
tmp_df = data.frame(text = text_vector)
dat = reticulate::r_to_py(tmp_df)
list2env(list(data = dat), envir = .GlobalEnv)
directory = paste(find.package("classecol"),"/models/classecol-models-master/", sep = "")
model_directory = reticulate::r_to_py(directory)
assign("model_directory", model_directory, envir = .GlobalEnv)
save_dic = getwd()
if(type == "full"){
reticulate::py_run_file(paste(directory,"hunt_all_rapid_pred.py", sep = ""))
} else if (type == "relevance"){
reticulate::py_run_file(paste(directory,"hunt_relevance_rapid_pred.py", sep = ""))
} else if (type == "stance"){
reticulate::py_run_file(paste(directory,"hunt_stance_rapid_h_pred.py", sep = ""))
} else {
stop("Please specify a valid type")
}
setwd(save_dic)
return_vector = py$pred_comb
return(return_vector)
} else {
stop("'text_vector' must be a vector")
}
}
devtools::document()
hun_class
devtools::document()
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(reticulate)
library(classecol)
library(reticulate)
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
sys <- import("sys", convert = TRUE)
sys$path
library(reticulate)
sys <- import("sys", convert = TRUE)
sys$path
library(classecol)
library(devtools)
install_github("GitTFJ/classecol")
library(classecol)
library(reticulate)
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
sys <- import("sys", convert = TRUE)
sys$path
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
devtools::document()
sys <- reticulate::import("sys", convert = TRUE)
library(reticulate)
sys <- import("sys", convert = TRUE)
sys$path
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
sys <- import("sys", convert = TRUE)
sys$path
library(classecol)
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
sys <- import("sys", convert = TRUE)
sys$path
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
library(classecol)
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
sys <- import("sys", convert = TRUE)
library(reticulate)
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
sys <- import("sys", convert = TRUE)
sys$path
#hun_class(
#  text_vector = classecol::clean(df$text, level = "simple"),
#  type = "full")
library(reticulate)
sys <- import("sys", convert = TRUE)
sys$path
library(reticulate)
sys <- import("sys", convert = TRUE)
sys$path
library(reticulate)
sys <- import("sys", convert = TRUE)
print(sys$path)
library(classecol)
library(reticulate)
#On the first run, set download_models = T and download_modules = T
load_classecol(download_models = F, download_modules = F, link_py = T)
sys <- import("sys", convert = TRUE)
sys$path
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
df = data.frame(
text = c(
"I hate hunting. Ban it now!",
"Cant wait to go camping this weekend #hunting #fishing",
"Hunting for my car keys"),
stringsAsFactors = F)
hun_class(
text_vector = classecol::clean(df$text, level = "simple"),
type = "full")
devtools::document()
